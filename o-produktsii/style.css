/* ==========================================================================
   EDS Product Page Styles - Mobile-First Professional Design v4.0
   Fully responsive layout with comprehensive mobile optimization
   File: assets/css/style.css
   ========================================================================== */

/* Mobile-first page foundation */
.edsys-product-page {
    font-family: var(--edsys-font-primary, "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif);
    line-height: var(--edsys-lh-normal, 1.6);
    color: var(--edsys-text, #21242D);
    background: var(--edsys-bg, #f5f5f7);
    min-height: 100vh;
    position: relative;
    font-size: var(--fs-base, clamp(1rem, 2.5vw, 1.125rem));
}

/* Mobile-optimized geometric background */
.edsys-product-page::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
            linear-gradient(135deg, transparent 0%, rgba(255, 37, 69, 0.01) 25%, transparent 50%),
            linear-gradient(45deg, transparent 0%, rgba(0, 102, 204, 0.01) 75%, transparent 100%);
    z-index: -1;
    pointer-events: none;
}

/* Mobile-first container system */
.edsys-product-container {
    max-width: var(--container-max, min(140rem, 100vw - 1rem));
    margin: 0 auto;
    padding: var(--space-lg, clamp(1rem, 4vw, 2rem));
    position: relative;
}

/* Mobile-optimized header */
.edsys-product-header {
    text-align: center;
    margin-bottom: var(--space-2xl, clamp(2rem, 8vw, 4rem));
    padding: var(--space-xl, clamp(2rem, 6vw, 3rem)) 0;
    position: relative;
}

/* Mobile-first title styling */
.edsys-product-title {
    font-size: var(--edsys-fs-hero, clamp(1.75rem, 8vw, 4rem));
    font-weight: var(--edsys-font-bold, 700);
    color: var(--edsys-text, #21242D);
    margin: 0;
    position: relative;
    letter-spacing: var(--edsys-tracking-tight, -0.02em);
    line-height: var(--edsys-lh-tight, 1.2);
    word-wrap: break-word;
    hyphens: auto;
}

/* Mobile-friendly accent design */
.edsys-product-title::after {
    content: "";
    display: block;
    width: clamp(4rem, 20vw, 8rem);
    height: clamp(2px, 0.5vw, 3px);
    background: var(--edsys-accent, #ff2545);
    margin: var(--space-md, clamp(1rem, 3vw, 1.5rem)) auto 0;
    position: relative;
}

.edsys-product-title::before {
    content: "";
    position: absolute;
    bottom: -1rem;
    left: 50%;
    transform: translateX(-50%);
    width: clamp(6px, 1.5vw, 8px);
    height: clamp(6px, 1.5vw, 8px);
    background: var(--edsys-voltage, #0066cc);
    border-radius: 50%;
}

/* Mobile-first content layout */
.edsys-product-content {
    display: block;
    margin-bottom: var(--space-2xl, clamp(2rem, 6vw, 4rem));
}

/* Mobile-first grid system */
.edsys-content-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-xl, clamp(1.5rem, 5vw, 2.5rem));
    grid-template-areas:
        "intro"
        "image"
        "details"
        "continuation"
        "specs";
}

/* Tablet optimization */
@media (min-width: 48rem) {
    .edsys-content-grid {
        grid-template-columns: 1fr 1fr;
        gap: var(--space-xl, clamp(1.5rem, 4vw, 2rem)) var(--space-2xl, clamp(2rem, 5vw, 3rem));
        grid-template-areas:
            "intro intro"
            "image details"
            "continuation continuation"
            "specs specs";
    }
}

/* Desktop optimization */
@media (min-width: 75rem) {
    .edsys-content-grid {
        grid-template-columns: 2fr 1.2fr 1.8fr;
        grid-template-rows: auto auto;
        gap: var(--space-xl, clamp(1.5rem, 3vw, 2rem)) var(--space-2xl, clamp(2rem, 4vw, 3rem));
        grid-template-areas:
            "intro image details"
            "continuation image specs";
    }
}

/* Mobile-optimized text sections */
.edsys-text-intro {
    grid-area: intro;
    font-size: var(--fs-lg, clamp(1.125rem, 4vw, 1.25rem));
    line-height: var(--edsys-lh-relaxed, 1.7);
}

.edsys-text-details {
    grid-area: details;
    font-size: var(--fs-base, clamp(1rem, 3.5vw, 1.125rem));
    line-height: var(--edsys-lh-normal, 1.6);
}

.edsys-text-continuation {
    grid-area: continuation;
    font-size: var(--fs-base, clamp(1rem, 3.5vw, 1.125rem));
    line-height: var(--edsys-lh-normal, 1.6);
}

/* Mobile-first paragraph styling */
.edsys-text-content p {
    margin: 0 0 var(--space-lg, clamp(1rem, 4vw, 1.5rem));
    text-align: left;
    position: relative;
    padding-left: var(--space-md, clamp(0.75rem, 2vw, 1rem));
    word-wrap: break-word;
    hyphens: auto;
}

.edsys-text-content p:last-child {
    margin-bottom: 0;
}

/* Mobile-optimized text indicators */
.edsys-text-intro p::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.5em;
    width: clamp(2px, 0.5vw, 3px);
    height: 1.2em;
    background: var(--edsys-accent, #ff2545);
}

.edsys-text-details p::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.5em;
    width: clamp(2px, 0.5vw, 3px);
    height: 1.2em;
    background: var(--edsys-voltage, #0066cc);
}

.edsys-text-continuation p::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.5em;
    width: clamp(2px, 0.5vw, 3px);
    height: 1.2em;
    background: var(--edsys-circuit, #00cc99);
}

/* Mobile-friendly highlight styling */
.edsys-highlight {
    color: var(--edsys-voltage, #0066cc);
    font-weight: var(--edsys-font-bold, 700);
    position: relative;
    padding: 0 0.1em;
    word-wrap: break-word;
}

.edsys-highlight::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: clamp(1px, 0.25vw, 2px);
    background: currentColor;
    opacity: 0.2;
}

/* Mobile-first image container */
.edsys-image-container {
    grid-area: image;
    position: relative;
    background: var(--edsys-white, #ffffff);
    border: 1px solid var(--edsys-border, #e0e0e0);
    border-radius: var(--radius-md, clamp(0.5rem, 1vw, 0.75rem));
    overflow: hidden;
    cursor: pointer;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    margin: 0 auto;
    max-width: 100%;
}

/* Mobile-optimized image frame */
.edsys-image-container::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: clamp(2px, 0.5vw, 3px) solid transparent;
    pointer-events: none;
    z-index: 2;
    border-radius: inherit;
}

/* Mobile-friendly click indicator */
.edsys-image-container::after {
    content: "";
    position: absolute;
    bottom: var(--space-sm, clamp(0.5rem, 2vw, 0.75rem));
    right: var(--space-sm, clamp(0.5rem, 2vw, 0.75rem));
    width: clamp(28px, 6vw, 32px);
    height: clamp(28px, 6vw, 32px);
    background: rgba(0, 0, 0, 0.7);
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 3;
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Cpath d='M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Zm112,16a8,8,0,0,1-8,8H128v16a8,8,0,0,1-16,0V136H96a8,8,0,0,1,0-16h16V104a8,8,0,0,1,16,0v16h16A8,8,0,0,1,152,128Z'/%3E%3C/svg%3E") no-repeat center;
    mask-size: clamp(14px, 3vw, 16px);
}

/* Show hint on mobile tap */
@media (hover: none) {
    .edsys-image-container::after {
        opacity: 0.6;
    }
}

.edsys-image-container:hover::after {
    opacity: 1;
    background: rgba(0, 0, 0, 0.8);
}

.edsys-product-image {
    width: 100%;
    height: auto;
    display: block;
    position: relative;
    z-index: 1;
    cursor: pointer;
    transition: var(--edsys-transition, all 0.3s ease);
    padding: var(--space-md, clamp(0.75rem, 2vw, 1rem));
    max-width: 100%;
    object-fit: contain;
}

.edsys-product-image:hover {
    opacity: 0.9;
}

/* Tablet+ sticky behavior */
@media (min-width: 48rem) and (min-height: 600px) {
    .edsys-image-container {
        position: sticky;
        top: var(--space-lg, clamp(1rem, 3vw, 1.5rem));
        align-self: start;
    }
}

/* Mobile-first specifications sidebar */
.edsys-specs-sidebar {
    grid-area: specs;
    background: var(--edsys-surface, #f0f0f0);
    padding: var(--space-lg, clamp(1rem, 4vw, 1.5rem));
    border-left: clamp(3px, 0.75vw, 4px) solid var(--edsys-accent, #ff2545);
    border-radius: var(--radius-md, clamp(0.5rem, 1vw, 0.75rem));
    margin-top: var(--space-md, clamp(0.75rem, 2vw, 1rem));
}

.edsys-specs-title {
    font-size: var(--fs-lg, clamp(1.125rem, 4vw, 1.25rem));
    font-weight: var(--edsys-font-bold, 700);
    color: var(--edsys-text, #21242D);
    margin: 0 0 var(--space-lg, clamp(1rem, 3vw, 1.25rem));
    display: flex;
    align-items: center;
    gap: var(--space-sm, clamp(0.5rem, 1.5vw, 0.75rem));
    flex-wrap: wrap;
}

.edsys-specs-title::before {
    content: "";
    width: clamp(14px, 3vw, 16px);
    height: clamp(14px, 3vw, 16px);
    background: var(--edsys-voltage, #0066cc);
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Cpath d='M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM48,48H208V88H48ZM48,208V104H208V208Z'/%3E%3C/svg%3E") no-repeat center;
    mask-size: contain;
    flex-shrink: 0;
}

.edsys-specs-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.edsys-specs-item {
    padding: var(--space-sm, clamp(0.5rem, 2vw, 0.75rem)) 0;
    border-bottom: 1px solid var(--edsys-border, #e0e0e0);
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm, clamp(0.5rem, 2vw, 0.75rem));
    font-size: var(--fs-sm, clamp(0.875rem, 3vw, 1rem));
    line-height: var(--edsys-lh-normal, 1.6);
    word-wrap: break-word;
}

.edsys-specs-item:last-child {
    border-bottom: none;
}

.edsys-specs-item::before {
    content: "";
    width: clamp(10px, 2.5vw, 12px);
    height: clamp(10px, 2.5vw, 12px);
    background: var(--edsys-circuit, #00cc99);
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Cpath d='M216.49,79.51l-56-56A12,12,0,0,0,152,20H56A20,20,0,0,0,36,40V216a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V88A12,12,0,0,0,216.49,79.51ZM160,57l23,23H160ZM60,212V44h76V88a12,12,0,0,0,12,12h44V212Z'/%3E%3C/svg%3E") no-repeat center;
    mask-size: contain;
    flex-shrink: 0;
    margin-top: 0.2em;
}

/* Mobile-first CTA section */
.edsys-cta-section {
    background: var(--edsys-text, #21242D);
    color: var(--edsys-white, #ffffff);
    padding: var(--space-2xl, clamp(2rem, 8vw, 4rem)) var(--space-lg, clamp(1rem, 4vw, 2rem));
    position: relative;
    overflow: hidden;
    margin-top: var(--space-2xl, clamp(2rem, 6vw, 3rem));
    border-radius: var(--radius-lg, clamp(0.75rem, 1.5vw, 1rem));
}

/* Mobile-optimized electrical circuit pattern */
.edsys-cta-section::before {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    width: clamp(120px, 30vw, 200px);
    height: clamp(120px, 30vw, 200px);
    background: var(--edsys-accent, #ff2545);
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Cpath d='M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM80,184a8,8,0,0,1-16,0V72a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V72a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V72a8,8,0,0,1,16,0Z'/%3E%3C/svg%3E") no-repeat center;
    mask-size: contain;
    opacity: 0.1;
    pointer-events: none;
}

.edsys-cta-content {
    position: relative;
    z-index: 2;
    max-width: 100%;
}

.edsys-cta-text {
    font-size: var(--fs-lg, clamp(1.125rem, 4.5vw, 1.5rem));
    font-weight: var(--edsys-font-bold, 700);
    margin: 0;
    line-height: var(--edsys-lh-snug, 1.4);
    position: relative;
    padding-left: var(--space-lg, clamp(1rem, 3vw, 1.5rem));
    word-wrap: break-word;
    hyphens: auto;
}

.edsys-cta-text::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    width: clamp(3px, 0.75vw, 4px);
    height: 100%;
    background: var(--edsys-accent, #ff2545);
}

/* Mobile-first Modal System */
.edsys-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    padding: var(--space-md, clamp(0.75rem, 2vw, 1rem));
}

.edsys-modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.edsys-modal-container {
    position: relative;
    max-width: fit-content;
    max-height: 100vh;
    background: var(--edsys-white, #ffffff);
    border-radius: var(--radius-lg, clamp(0.5rem, 1.5vw, 1rem));
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
    overflow: hidden;
    transform: scale(0.8);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    width: 100%;
}

.edsys-modal-overlay.active .edsys-modal-container {
    transform: scale(1);
}

.edsys-modal-header {
    background: var(--edsys-text, #21242D);
    color: var(--edsys-white, #ffffff);
    padding: var(--space-lg, clamp(1rem, 3vw, 1.5rem));
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--edsys-border, #e0e0e0);
    gap: var(--space-md, clamp(0.75rem, 2vw, 1rem));
}

.edsys-modal-title {
    font-size: var(--fs-lg, clamp(1rem, 4vw, 1.25rem));
    font-weight: var(--edsys-font-bold, 700);
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--space-sm, clamp(0.5rem, 1.5vw, 0.75rem));
    flex: 1;
    word-wrap: break-word;
    hyphens: auto;
}

.edsys-modal-title::before {
    content: "";
    width: clamp(16px, 4vw, 20px);
    height: clamp(16px, 4vw, 20px);
    background: var(--edsys-accent, #ff2545);
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Cpath d='M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM40,56H216V200H40ZM144,96a16,16,0,1,1-16-16A16,16,0,0,1,144,96Zm68,112H44a4,4,0,0,1-3.28-6.29L76.28,152.5a4,4,0,0,1,6.56,0L108.28,187a4,4,0,0,1,6.56,0l20.28-28.5a4,4,0,0,1,6.56,0L176.28,201.71A4,4,0,0,1,173,208Z'/%3E%3C/svg%3E") no-repeat center;
    mask-size: contain;
    flex-shrink: 0;
}

.edsys-modal-close {
    background: transparent;
    border: none;
    color: var(--edsys-white, #ffffff);
    cursor: pointer;
    padding: var(--space-sm, clamp(0.5rem, 1.5vw, 0.75rem));
    border-radius: var(--radius-sm, clamp(0.25rem, 0.5vw, 0.5rem));
    transition: background-color 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    width: clamp(36px, 8vw, 40px);
    height: clamp(36px, 8vw, 40px);
    flex-shrink: 0;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

.edsys-modal-close:hover {
    background: rgba(255, 255, 255, 0.1);
}

.edsys-modal-close:focus {
    outline: 2px solid var(--edsys-accent, #ff2545);
    outline-offset: 2px;
}

.edsys-modal-close::before {
    content: "";
    width: clamp(20px, 5vw, 24px);
    height: clamp(20px, 5vw, 24px);
    background: currentColor;
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Cpath d='M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z'/%3E%3C/svg%3E") no-repeat center;
    mask-size: contain;
}

.edsys-modal-content {
    padding: var(--space-lg, clamp(1rem, 3vw, 1.5rem));
    text-align: center;
    max-height: 80vh;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}

.edsys-modal-image {
    max-width: 100%;
    max-height: clamp(50vh, 60vh, 70vh);
    height: auto;
    border-radius: var(--radius-md, clamp(0.5rem, 1vw, 0.75rem));
    display: block;
    margin: 0 auto;
}

.edsys-modal-caption {
    margin-top: var(--space-lg, clamp(1rem, 3vw, 1.5rem));
    font-size: var(--fs-sm, clamp(0.875rem, 3vw, 1rem));
    color: var(--edsys-text-muted, #555);
    line-height: var(--edsys-lh-normal, 1.6);
    max-width: 60ch;
    margin-left: auto;
    margin-right: auto;
    text-align: left;
    word-wrap: break-word;
    hyphens: auto;
}

/* Mobile-specific modal adjustments */
@media (max-width: 48rem) {
    .edsys-modal-overlay {
        padding: 0;
        align-items: flex-end;
    }

    .edsys-modal-container {
        max-width: 100vw;
        max-height: 95vh;
        border-radius: var(--radius-lg, clamp(0.75rem, 2vw, 1rem)) var(--radius-lg, clamp(0.75rem, 2vw, 1rem)) 0 0;
        width: 100%;
    }

    .edsys-modal-image {
        max-height: 50vh;
    }

    .edsys-modal-header {
        padding: var(--space-md, clamp(0.75rem, 2vw, 1rem));
    }

    .edsys-modal-content {
        padding: var(--space-md, clamp(0.75rem, 2vw, 1rem));
    }

    .edsys-modal-title {
        font-size: var(--fs-base, clamp(0.875rem, 3.5vw, 1rem));
    }
}

/* Enhanced accessibility for mobile */
@media (prefers-reduced-motion: reduce) {
    * {
        transition: none !important;
        animation: none !important;
    }

    .edsys-modal-container {
        transform: none !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .edsys-product-page {
        background: white;
        color: black;
    }

    .edsys-image-container {
        border: 2px solid black;
    }

    .edsys-specs-sidebar {
        border-left: 4px solid black;
        background: white;
    }

    .edsys-cta-section {
        background: black;
        color: white;
        border: 2px solid white;
    }
}

/* Professional print styles */
@media print {
    .edsys-product-page {
        background: white !important;
        color: black !important;
        font-size: 12pt !important;
    }

    .edsys-product-page::before,
    .edsys-cta-section::before,
    .edsys-image-container::before {
        display: none !important;
    }

    .edsys-cta-section {
        background: white !important;
        color: black !important;
        border: 2px solid black !important;
    }

    .edsys-specs-sidebar {
        background: white !important;
        border: 1px solid black !important;
    }

    .edsys-modal-overlay {
        display: none !important;
    }

    .edsys-content-grid {
        grid-template-columns: 1fr !important;
        grid-template-areas:
            "intro"
            "image"
            "details"
            "continuation"
            "specs" !important;
    }

    .edsys-product-image {
        max-height: 400px !important;
    }
}

/* Screen reader optimization */
.sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
    clip-path: inset(50%) !important;
}

/* Focus management for better accessibility */
*:focus {
    outline: 2px solid var(--edsys-accent, #ff2545);
    outline-offset: 2px;
}

*:focus:not(:focus-visible) {
    outline: none;
}

*:focus-visible {
    outline: 2px solid var(--edsys-accent, #ff2545);
    outline-offset: 2px;
}

/* Touch target optimization */
@media (pointer: coarse) {
    .edsys-image-container,
    .edsys-modal-close {
        min-height: 44px;
        min-width: 44px;
    }
}

/* Landscape mobile optimization */
@media (max-height: 500px) and (orientation: landscape) {
    .edsys-product-header {
        padding: var(--space-lg, clamp(1rem, 3vw, 1.5rem)) 0;
        margin-bottom: var(--space-lg, clamp(1rem, 3vw, 1.5rem));
    }

    .edsys-modal-image {
        max-height: 40vh;
    }

    .edsys-cta-section {
        padding: var(--space-lg, clamp(1rem, 3vw, 1.5rem));
    }
}